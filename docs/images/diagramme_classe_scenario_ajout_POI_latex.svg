<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1285px" preserveAspectRatio="none" style="width:1527px;height:1285px;" version="1.1" viewBox="0 0 1527 1285" width="1527px" zoomAndPan="magnify"><defs><filter height="300%" id="f111tnnxy5mlcu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[fbccc66177a0aac14d2e5f14d8b5ba20]
class MapScreen--><rect fill="#FEFECE" filter="url(#f111tnnxy5mlcu)" height="88.652" id="MapScreen" style="stroke: #A80036; stroke-width: 1.5;" width="234" x="161.86" y="296"/><ellipse cx="219.61" cy="317.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M222.5788,322.9847 Q222.0006,323.2816 221.36,323.4222 Q220.7194,323.5785 220.0163,323.5785 Q217.5163,323.5785 216.1881,321.9379 Q214.8756,320.2816 214.8756,317.1566 Q214.8756,314.0316 216.1881,312.3754 Q217.5163,310.7191 220.0163,310.7191 Q220.7194,310.7191 221.36,310.8754 Q222.0163,311.0316 222.5788,311.3285 L222.5788,314.0472 Q221.9538,313.4691 221.36,313.2035 Q220.7663,312.9222 220.1413,312.9222 Q218.7975,312.9222 218.11,314.0004 Q217.4225,315.0629 217.4225,317.1566 Q217.4225,319.2504 218.11,320.3285 Q218.7975,321.391 220.1413,321.391 Q220.7663,321.391 221.36,321.1254 Q221.9538,320.8441 222.5788,320.266 L222.5788,322.9847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="114" x="238.11" y="313.8281">«View / Composable»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="263.11" y="330.1722">MapScreen</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="162.86" x2="394.86" y1="338.6882" y2="338.6882"/><ellipse cx="172.86" cy="349.6882" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="181.86" y="354.4471">viewModel: MapViewModel</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="162.86" x2="394.86" y1="361.6701" y2="361.6701"/><ellipse cx="172.86" cy="372.6701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="181.86" y="377.429">MapScreen(viewModel: MapViewModel)</text><!--MD5=[f1b7ac532e8988899b7871759f274190]
class MapViewModel--><rect fill="#FEFECE" filter="url(#f111tnnxy5mlcu)" height="178.5433" id="MapViewModel" style="stroke: #A80036; stroke-width: 1.5;" width="583" x="654.36" y="8"/><ellipse cx="898.61" cy="29.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M901.5788,34.9847 Q901.0006,35.2816 900.36,35.4222 Q899.7194,35.5785 899.0163,35.5785 Q896.5163,35.5785 895.1881,33.9379 Q893.8756,32.2816 893.8756,29.1566 Q893.8756,26.0316 895.1881,24.3754 Q896.5163,22.7191 899.0163,22.7191 Q899.7194,22.7191 900.36,22.8754 Q901.0163,23.0316 901.5788,23.3285 L901.5788,26.0472 Q900.9538,25.4691 900.36,25.2035 Q899.7663,24.9222 899.1413,24.9222 Q897.7975,24.9222 897.11,26.0004 Q896.4225,27.0629 896.4225,29.1566 Q896.4225,31.2504 897.11,32.3285 Q897.7975,33.391 899.1413,33.391 Q899.7663,33.391 900.36,33.1254 Q900.9538,32.8441 901.5788,32.266 L901.5788,34.9847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="70" x="927.11" y="25.8281">«ViewModel»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="919.11" y="42.1722">MapViewModel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="655.36" x2="1236.36" y1="50.6882" y2="50.6882"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="662.36" y="58.6882"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="297" x="674.36" y="66.4471">addPointOfInterestUseCase: AddPointOfInterestUseCase</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="662.36" y="73.6701"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="284" x="674.36" y="81.429">pointOfInterestRepository: PointOfInterestRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="662.36" y="88.652"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="674.36" y="96.4109">authRepository: AuthRepository</text><ellipse cx="665.36" cy="106.6339" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="165" x="674.36" y="111.3928">uiState: StateFlow&lt;MapUiState&gt;</text><ellipse cx="665.36" cy="121.6158" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="268" x="674.36" y="126.3747">pointsOfInterest: StateFlow&lt;List&lt;PointOfInterest&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="655.36" x2="1236.36" y1="133.5977" y2="133.5977"/><ellipse cx="665.36" cy="144.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="674.36" y="149.3566">MapViewModel(...)</text><ellipse cx="665.36" cy="159.5796" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="557" x="674.36" y="164.3385">addPointOfInterest(groupId: String, name: String, description: String, latitude: Double, longitude: Double)</text><ellipse cx="665.36" cy="174.5614" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="674.36" y="179.3204">loadPointsOfInterest(groupId: String)</text><!--MD5=[a53006477768e499053be997c670a4b5]
class AddPointOfInterestUseCase--><rect fill="#FEFECE" filter="url(#f111tnnxy5mlcu)" height="103.6339" id="AddPointOfInterestUseCase" style="stroke: #A80036; stroke-width: 1.5;" width="462" x="430.86" y="288.5"/><ellipse cx="579.11" cy="309.8441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M582.0788,315.4847 Q581.5006,315.7816 580.86,315.9222 Q580.2194,316.0785 579.5163,316.0785 Q577.0163,316.0785 575.6881,314.4379 Q574.3756,312.7816 574.3756,309.6566 Q574.3756,306.5316 575.6881,304.8754 Q577.0163,303.2191 579.5163,303.2191 Q580.2194,303.2191 580.86,303.3754 Q581.5163,303.5316 582.0788,303.8285 L582.0788,306.5472 Q581.4538,305.9691 580.86,305.7035 Q580.2663,305.4222 579.6413,305.4222 Q578.2975,305.4222 577.61,306.5004 Q576.9225,307.5629 576.9225,309.6566 Q576.9225,311.7504 577.61,312.8285 Q578.2975,313.891 579.6413,313.891 Q580.2663,313.891 580.86,313.6254 Q581.4538,313.3441 582.0788,312.766 L582.0788,315.4847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="112" x="622.11" y="306.3281">«Use Case / Domain»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="157" x="599.61" y="322.6722">AddPointOfInterestUseCase</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="431.86" x2="891.86" y1="331.1882" y2="331.1882"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="438.86" y="339.1882"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="284" x="450.86" y="346.9471">pointOfInterestRepository: PointOfInterestRepository</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="431.86" x2="891.86" y1="354.1701" y2="354.1701"/><ellipse cx="441.86" cy="365.1701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="436" x="450.86" y="369.929">AddPointOfInterestUseCase(pointOfInterestRepository: PointOfInterestRepository)</text><ellipse cx="441.86" cy="380.152" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="343" x="450.86" y="384.9109">invoke(groupId: String, poi: PointOfInterest): Flow&lt;Result&lt;Unit&gt;&gt;</text><!--MD5=[9535edcc12dcca218b01254ce87001f6]
class PointOfInterestRepository--><rect fill="#FEFECE" filter="url(#f111tnnxy5mlcu)" height="88.652" id="PointOfInterestRepository" style="stroke: #A80036; stroke-width: 1.5;" width="436" x="287.86" y="509"/><ellipse cx="432.11" cy="530.3441" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M428.0319,526.1097 L428.0319,523.9535 L435.4225,523.9535 L435.4225,526.1097 L432.9538,526.1097 L432.9538,534.1879 L435.4225,534.1879 L435.4225,536.3441 L428.0319,536.3441 L428.0319,534.1879 L430.5006,534.1879 L430.5006,526.1097 L428.0319,526.1097 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="113" x="465.61" y="526.8281">«Interface / Domain»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="139" x="452.61" y="543.1722">PointOfInterestRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="288.86" x2="722.86" y1="551.6882" y2="551.6882"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="288.86" x2="722.86" y1="559.6882" y2="559.6882"/><ellipse cx="298.86" cy="570.6882" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="410" x="307.86" y="575.4471">addPointOfInterest(groupId: String, poi: PointOfInterest): Flow&lt;Result&lt;Unit&gt;&gt;</text><ellipse cx="298.86" cy="585.6701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="399" x="307.86" y="590.429">getPointsOfInterestForGroup(groupId: String): Flow&lt;List&lt;PointOfInterest&gt;&gt;</text><!--MD5=[29f190054bec41e9f2ddcfda5a47fd96]
class PointOfInterestRepositoryImpl--><rect fill="#FEFECE" filter="url(#f111tnnxy5mlcu)" height="118.6158" id="PointOfInterestRepositoryImpl" style="stroke: #A80036; stroke-width: 1.5;" width="436" x="208.86" y="692"/><ellipse cx="338.11" cy="713.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M341.0788,718.9847 Q340.5006,719.2816 339.86,719.4222 Q339.2194,719.5785 338.5163,719.5785 Q336.0163,719.5785 334.6881,717.9379 Q333.3756,716.2816 333.3756,713.1566 Q333.3756,710.0316 334.6881,708.3754 Q336.0163,706.7191 338.5163,706.7191 Q339.2194,706.7191 339.86,706.8754 Q340.5163,707.0316 341.0788,707.3285 L341.0788,710.0472 Q340.4538,709.4691 339.86,709.2035 Q339.2663,708.9222 338.6413,708.9222 Q337.2975,708.9222 336.61,710.0004 Q335.9225,711.0629 335.9225,713.1566 Q335.9225,715.2504 336.61,716.3285 Q337.2975,717.391 338.6413,717.391 Q339.2663,717.391 339.86,717.1254 Q340.4538,716.8441 341.0788,716.266 L341.0788,718.9847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="73" x="406.61" y="709.8281">«Data / Impl»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="169" x="358.61" y="726.1722">PointOfInterestRepositoryImpl</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="209.86" x2="643.86" y1="734.6882" y2="734.6882"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="216.86" y="742.6882"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="228.86" y="750.4471">firestoreHelper: FirestoreHelper</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="209.86" x2="643.86" y1="757.6701" y2="757.6701"/><ellipse cx="219.86" cy="768.6701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="337" x="228.86" y="773.429">PointOfInterestRepositoryImpl(firestoreHelper: FirestoreHelper)</text><ellipse cx="219.86" cy="783.652" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="410" x="228.86" y="788.4109">addPointOfInterest(groupId: String, poi: PointOfInterest): Flow&lt;Result&lt;Unit&gt;&gt;</text><ellipse cx="219.86" cy="798.6339" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="399" x="228.86" y="803.3928">getPointsOfInterestForGroup(groupId: String): Flow&lt;List&lt;PointOfInterest&gt;&gt;</text><!--MD5=[a7f6a4a709a56d2ca69dba73d2e1d24a]
class PointOfInterest--><rect fill="#FEFECE" filter="url(#f111tnnxy5mlcu)" height="178.5433" id="PointOfInterest" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="654.36" y="1096"/><ellipse cx="672.06" cy="1117.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M675.0288,1122.9847 Q674.4506,1123.2816 673.81,1123.4222 Q673.1694,1123.5785 672.4663,1123.5785 Q669.9663,1123.5785 668.6381,1121.9379 Q667.3256,1120.2816 667.3256,1117.1566 Q667.3256,1114.0316 668.6381,1112.3754 Q669.9663,1110.7191 672.4663,1110.7191 Q673.1694,1110.7191 673.81,1110.8754 Q674.4663,1111.0316 675.0288,1111.3285 L675.0288,1114.0472 Q674.4038,1113.4691 673.81,1113.2035 Q673.2163,1112.9222 672.5913,1112.9222 Q671.2475,1112.9222 670.56,1114.0004 Q669.8725,1115.0629 669.8725,1117.1566 Q669.8725,1119.2504 670.56,1120.3285 Q671.2475,1121.391 672.5913,1121.391 Q673.2163,1121.391 673.81,1121.1254 Q674.4038,1120.8441 675.0288,1120.266 L675.0288,1122.9847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="706.66" y="1113.8281">«Model»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="686.66" y="1130.1722">PointOfInterest</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="655.36" x2="776.36" y1="1138.6882" y2="1138.6882"/><ellipse cx="665.36" cy="1149.6882" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="674.36" y="1154.4471">id: String</text><ellipse cx="665.36" cy="1164.6701" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="674.36" y="1169.429">groupId: String</text><ellipse cx="665.36" cy="1179.652" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="674.36" y="1184.4109">name: String</text><ellipse cx="665.36" cy="1194.6339" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="674.36" y="1199.3928">description: String</text><ellipse cx="665.36" cy="1209.6158" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="674.36" y="1214.3747">latitude: Double</text><ellipse cx="665.36" cy="1224.5977" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="674.36" y="1229.3566">longitude: Double</text><ellipse cx="665.36" cy="1239.5796" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="674.36" y="1244.3385">addedBy: String</text><ellipse cx="665.36" cy="1254.5614" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="674.36" y="1259.3204">timestamp: Date</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="655.36" x2="776.36" y1="1266.5433" y2="1266.5433"/><!--MD5=[279e0c8bccf9b7c10bafc67c7163f840]
class MapUiState--><rect fill="#FEFECE" filter="url(#f111tnnxy5mlcu)" height="148.5796" id="MapUiState" style="stroke: #A80036; stroke-width: 1.5;" width="175" x="999.36" y="266"/><ellipse cx="1049.61" cy="287.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1052.5788,292.9847 Q1052.0006,293.2816 1051.36,293.4222 Q1050.7194,293.5785 1050.0163,293.5785 Q1047.5163,293.5785 1046.1881,291.9379 Q1044.8756,290.2816 1044.8756,287.1566 Q1044.8756,284.0316 1046.1881,282.3754 Q1047.5163,280.7191 1050.0163,280.7191 Q1050.7194,280.7191 1051.36,280.8754 Q1052.0163,281.0316 1052.5788,281.3285 L1052.5788,284.0472 Q1051.9538,283.4691 1051.36,283.2035 Q1050.7663,282.9222 1050.1413,282.9222 Q1048.7975,282.9222 1048.11,284.0004 Q1047.4225,285.0629 1047.4225,287.1566 Q1047.4225,289.2504 1048.11,290.3285 Q1048.7975,291.391 1050.1413,291.391 Q1050.7663,291.391 1051.36,291.1254 Q1051.9538,290.8441 1052.5788,290.266 L1052.5788,292.9847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="54" x="1076.11" y="283.8281">«UI State»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="1070.11" y="300.1722">MapUiState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1000.36" x2="1173.36" y1="308.6882" y2="308.6882"/><ellipse cx="1010.36" cy="319.6882" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="1019.36" y="324.4471">isLoadingPois: Boolean</text><ellipse cx="1010.36" cy="334.6701" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="1019.36" y="339.429">addPoiError: String?</text><ellipse cx="1010.36" cy="349.652" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="1019.36" y="354.4109">isAddingPoi: Boolean</text><ellipse cx="1010.36" cy="364.6339" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="1019.36" y="369.3928">showAddPoiDialog: Boolean</text><ellipse cx="1010.36" cy="379.6158" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="1019.36" y="384.3747">currentLocation: LatLng?</text><ellipse cx="1010.36" cy="394.5977" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="1019.36" y="399.3566">userRole: String?</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1000.36" x2="1173.36" y1="406.5796" y2="406.5796"/><!--MD5=[2741598bdf59a7d7e0d5c97658fd3022]
class Result--><rect fill="#FEFECE" filter="url(#f111tnnxy5mlcu)" height="103.6339" id="Result" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="1272.36" y="45.5"/><ellipse cx="1318.11" cy="66.8441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1321.0788,72.4847 Q1320.5006,72.7816 1319.86,72.9222 Q1319.2194,73.0785 1318.5163,73.0785 Q1316.0163,73.0785 1314.6881,71.4379 Q1313.3756,69.7816 1313.3756,66.6566 Q1313.3756,63.5316 1314.6881,61.8754 Q1316.0163,60.2191 1318.5163,60.2191 Q1319.2194,60.2191 1319.86,60.3754 Q1320.5163,60.5316 1321.0788,60.8285 L1321.0788,63.5472 Q1320.4538,62.9691 1319.86,62.7035 Q1319.2663,62.4222 1318.6413,62.4222 Q1317.2975,62.4222 1316.61,63.5004 Q1315.9225,64.5629 1315.9225,66.6566 Q1315.9225,68.7504 1316.61,69.8285 Q1317.2975,70.891 1318.6413,70.891 Q1319.2663,70.891 1319.86,70.6254 Q1320.4538,70.3441 1321.0788,69.766 L1321.0788,72.4847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="77" x="1336.61" y="63.3281">«Sealed Class»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="34" x="1358.11" y="79.6722">Result</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1273.36" x2="1444.36" y1="88.1882" y2="88.1882"/><ellipse cx="1283.36" cy="99.1882" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="1292.36" y="103.9471">Loading</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1273.36" x2="1444.36" y1="111.1701" y2="111.1701"/><ellipse cx="1283.36" cy="122.1701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="1292.36" y="126.929">Success&lt;T&gt;(data: T)</text><ellipse cx="1283.36" cy="137.152" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="1292.36" y="141.9109">Error(exception: Throwable)</text><!--MD5=[91a178b110eede54421af66b66a58092]
class FirestoreHelper--><rect fill="#FEFECE" filter="url(#f111tnnxy5mlcu)" height="126.6158" id="FirestoreHelper" style="stroke: #A80036; stroke-width: 1.5;" width="471" x="191.36" y="890"/><ellipse cx="378.61" cy="911.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M381.5788,916.9847 Q381.0006,917.2816 380.36,917.4222 Q379.7194,917.5785 379.0163,917.5785 Q376.5163,917.5785 375.1881,915.9379 Q373.8756,914.2816 373.8756,911.1566 Q373.8756,908.0316 375.1881,906.3754 Q376.5163,904.7191 379.0163,904.7191 Q379.7194,904.7191 380.36,904.8754 Q381.0163,905.0316 381.5788,905.3285 L381.5788,908.0472 Q380.9538,907.4691 380.36,907.2035 Q379.7663,906.9222 379.1413,906.9222 Q377.7975,906.9222 377.11,908.0004 Q376.4225,909.0629 376.4225,911.1566 Q376.4225,913.2504 377.11,914.3285 Q377.7975,915.391 379.1413,915.391 Q379.7663,915.391 380.36,915.1254 Q380.9538,914.8441 381.5788,914.266 L381.5788,916.9847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="47" x="419.61" y="907.8281">«Helper»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="399.11" y="924.1722">FirestoreHelper</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="192.36" x2="661.36" y1="932.6882" y2="932.6882"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="199.36" y="940.6882"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="211.36" y="948.4471">firestore: FirebaseFirestore</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="192.36" x2="661.36" y1="955.6701" y2="955.6701"/><ellipse cx="202.36" cy="966.6701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="445" x="211.36" y="971.429">addDocument(collectionPath: String, data: Any, documentId: String?): suspend String</text><ellipse cx="202.36" cy="981.652" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="310" x="211.36" y="986.4109">getCollection(collectionPath: String, T: Class): Flow&lt;List&lt;T&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="192.36" x2="661.36" y1="993.6339" y2="993.6339"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="197.36" y="1009.3928">// ...</text><!--MD5=[efae4119fb8b392e85a05fb226890ad7]
class AuthRepository--><rect fill="#FEFECE" filter="url(#f111tnnxy5mlcu)" height="88.652" id="AuthRepository" style="stroke: #A80036; stroke-width: 1.5;" width="230" x="1209.86" y="296"/><ellipse cx="1266.11" cy="317.3441" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1262.0319,313.1097 L1262.0319,310.9535 L1269.4225,310.9535 L1269.4225,313.1097 L1266.9538,313.1097 L1266.9538,321.1879 L1269.4225,321.1879 L1269.4225,323.3441 L1262.0319,323.3441 L1262.0319,321.1879 L1264.5006,321.1879 L1264.5006,313.1097 L1262.0319,313.1097 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="113" x="1284.61" y="313.8281">«Interface / Domain»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="82" x="1300.11" y="330.1722">AuthRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1210.86" x2="1438.86" y1="338.6882" y2="338.6882"/><ellipse cx="1220.86" cy="349.6882" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="204" x="1229.86" y="354.4471">getCurrentUser(): Flow&lt;Result&lt;User?&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1210.86" x2="1438.86" y1="361.6701" y2="361.6701"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="1215.86" y="377.429">// ...</text><!--MD5=[3fd616f346a44cd59a91eb10b19e157c]
class User--><rect fill="#FEFECE" filter="url(#f111tnnxy5mlcu)" height="118.6158" id="User" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="1388.86" y="494"/><ellipse cx="1423.21" cy="515.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1426.1787,520.9847 Q1425.6006,521.2816 1424.96,521.4222 Q1424.3194,521.5785 1423.6162,521.5785 Q1421.1162,521.5785 1419.7881,519.9379 Q1418.4756,518.2816 1418.4756,515.1566 Q1418.4756,512.0316 1419.7881,510.3754 Q1421.1162,508.7191 1423.6162,508.7191 Q1424.3194,508.7191 1424.96,508.8754 Q1425.6162,509.0316 1426.1787,509.3285 L1426.1787,512.0472 Q1425.5537,511.4691 1424.96,511.2035 Q1424.3662,510.9222 1423.7412,510.9222 Q1422.3975,510.9222 1421.71,512.0004 Q1421.0225,513.0629 1421.0225,515.1566 Q1421.0225,517.2504 1421.71,518.3285 Q1422.3975,519.391 1423.7412,519.391 Q1424.3662,519.391 1424.96,519.1254 Q1425.5537,518.8441 1426.1787,518.266 L1426.1787,520.9847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="1439.51" y="511.8281">«Model»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="27" x="1448.51" y="528.1722">User</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1389.86" x2="1503.86" y1="536.6882" y2="536.6882"/><ellipse cx="1399.86" cy="547.6882" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="1408.86" y="552.4471">id: String</text><ellipse cx="1399.86" cy="562.6701" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="1408.86" y="567.429">email: String</text><ellipse cx="1399.86" cy="577.652" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1408.86" y="582.4109">username: String</text><ellipse cx="1399.86" cy="592.6339" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="1408.86" y="597.3928">role: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1389.86" x2="1503.86" y1="604.6158" y2="604.6158"/><!--MD5=[93f83800c3783b67ca64de9b67c1c23a]
reverse link MapViewModel to MapScreen--><path d="M635.22,185.19 C561.65,208.76 484.16,236.13 413.86,266 C393.6,274.61 372.37,285.3 352.91,295.84 " fill="none" id="MapViewModel&lt;-MapScreen" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="633.16,178.5,654.34,179.13,637.39,191.85,633.16,178.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="527.86" y="231.897">observe() / calls()</text><!--MD5=[e4c30233bd67a11757673232a66427f8]
reverse link MapViewModel to AddPointOfInterestUseCase--><path d="M831.35,195.67 C793.91,227.44 753.82,261.46 722.04,288.43 " fill="none" id="MapViewModel&lt;-AddPointOfInterestUseCase" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="841.32,187.21,834.1571,188.0427,832.1709,194.9749,839.3337,194.1422,841.32,187.21" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="804.86" y="231.897">composes (via DI)</text><!--MD5=[5f2dabbe2d85233c3cfd2ce76d8f725d]
reverse link MapViewModel to PointOfInterestRepository--><path d="M641.12,113.77 C407.75,132.6 113.22,174.28 36.86,266 C-5.51,316.89 -2.84,361.99 36.86,415 C68.62,457.41 180.99,491.16 287.77,514.61 " fill="none" id="MapViewModel&lt;-PointOfInterestRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="654.29,112.72,647.9923,109.2073,642.3276,113.6696,648.6254,117.1823,654.29,112.72" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="37.86" y="345.897">composes (via DI)</text><!--MD5=[f9e3781cf85f6bc8a858932cd1bdfe7c]
reverse link MapViewModel to AuthRepository--><path d="M1096.12,194.05 C1151.58,229.31 1211.72,267.55 1256.41,295.97 " fill="none" id="MapViewModel&lt;-AuthRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1085.1,187.04,1088.0189,193.6339,1095.2283,193.4757,1092.3094,186.8817,1085.1,187.04" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="1158.86" y="231.897">composes (via DI)</text><!--MD5=[6b90692e13d8eba67ac484670ded5877]
reverse link AddPointOfInterestUseCase to PointOfInterestRepository--><path d="M616.19,403.28 C591.19,437.09 560.81,478.18 538.26,508.67 " fill="none" id="AddPointOfInterestUseCase&lt;-PointOfInterestRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="624.1,392.58,617.317,395.0278,616.9677,402.2304,623.7506,399.7826,624.1,392.58" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="584.86" y="459.897">composes (via DI)</text><!--MD5=[bcb8ed2b2a2462a91d49941cb91f8148]
reverse link PointOfInterestRepository to PointOfInterestRepositoryImpl--><path d="M480.57,617.24 C470.94,641.14 460,668.27 450.52,691.79 " fill="none" id="PointOfInterestRepository&lt;-PointOfInterestRepositoryImpl" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="474.16,614.42,488.13,598.49,487.15,619.65,474.16,614.42" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="468.86" y="657.897">implements</text><!--MD5=[1ea5fa21a4c660e4e9e0bc8630fbaa68]
reverse link PointOfInterestRepositoryImpl to FirestoreHelper--><path d="M426.86,824.2 C426.86,845.59 426.86,868.87 426.86,889.66 " fill="none" id="PointOfInterestRepositoryImpl&lt;-FirestoreHelper" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="426.86,811.16,422.86,817.16,426.86,823.16,430.86,817.16,426.86,811.16" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="427.86" y="855.897">composes (via DI)</text><!--MD5=[552a2748718c5df1c5df8ad9d71125ca]
link MapViewModel to PointOfInterest--><path d="M945.86,187.2 C945.86,232.73 945.86,289.08 945.86,339.5 C945.86,339.5 945.86,339.5 945.86,954.5 C945.86,1047.88 849.88,1116.6 781.93,1153.54 " fill="none" id="MapViewModel-&gt;PointOfInterest" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="777.49,1155.93,787.3104,1155.1812,781.8914,1153.5578,783.5148,1148.1389,777.49,1155.93" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="946.86" y="657.897">uses</text><!--MD5=[c00831fb184a6eec6ee45ea43b6e6e27]
link MapViewModel to MapUiState--><path d="M997.76,187.21 C1012.03,211.6 1027.39,237.85 1041.27,261.58 " fill="none" id="MapViewModel-&gt;MapUiState" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1043.85,265.98,1042.7501,256.1927,1041.3218,261.6663,1035.8482,260.2379,1043.85,265.98" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="1024.86" y="231.897">manages</text><!--MD5=[372484025d0083235c4c28b27361e239]
link MapViewModel to User--><path d="M1237.57,186.32 C1348.32,221.04 1450.06,255.25 1457.86,266 C1504.63,330.51 1488.61,426.37 1470.03,489.15 " fill="none" id="MapViewModel-&gt;User" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1468.58,493.98,1475.0077,486.5177,1470.0233,489.1928,1467.3482,484.2085,1468.58,493.98" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="1488.86" y="345.897">uses</text><!--MD5=[9a28fab400ab9e415edb360b7beb1821]
link AddPointOfInterestUseCase to PointOfInterest--><path d="M721.67,392.88 C760.48,432.15 803.86,490.02 803.86,552.5 C803.86,552.5 803.86,552.5 803.86,954.5 C803.86,1001.44 787.67,1050.42 769.19,1091.06 " fill="none" id="AddPointOfInterestUseCase-&gt;PointOfInterest" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="766.92,1095.97,774.3182,1089.4687,769.0117,1091.4285,767.0518,1086.122,766.92,1095.97" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="804.86" y="756.897">uses</text><!--MD5=[2c0969349dd83a89a27e49ffed1f17b1]
link PointOfInterestRepository to PointOfInterest--><path d="M576.35,598.22 C608.24,621.89 643.14,654.06 662.86,692 C728.48,818.25 731.42,987.03 725.29,1090.63 " fill="none" id="PointOfInterestRepository-&gt;PointOfInterest" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="724.97,1095.83,729.5033,1087.0865,725.2703,1090.839,721.5178,1086.606,724.97,1095.83" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="715.86" y="855.897">uses</text><!--MD5=[f3d78a4de9b7f3d2ba6ad551560ef149]
link PointOfInterestRepositoryImpl to PointOfInterest--><path d="M232.88,811.14 C197.92,830.61 165.93,856.28 144.86,890 C114.95,937.87 111.03,971.82 144.86,1017 C205.92,1098.54 511.77,1153.86 649.02,1174.96 " fill="none" id="PointOfInterestRepositoryImpl-&gt;PointOfInterest" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="654.23,1175.76,645.9394,1170.4434,649.2876,1175.0029,644.7281,1178.3512,654.23,1175.76" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="145.86" y="958.897">uses</text><!--MD5=[b30dafab54f3b986d57c9c3c148d9f2d]
link AuthRepository to User--><path d="M1350.14,385.22 C1367.5,415.26 1390.84,455.61 1410.23,489.15 " fill="none" id="AuthRepository-&gt;User" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1412.82,493.63,1411.7584,483.8385,1410.3086,489.3065,1404.8407,487.8567,1412.82,493.63" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="1393.86" y="459.897">returns</text><!--MD5=[cd709e5ef7b64f5d80e30a129dfdafea]
link FirestoreHelper to PointOfInterest--><path d="M505.45,1017.04 C550.79,1053.13 607.14,1097.98 650.12,1132.18 " fill="none" id="FirestoreHelper-&gt;PointOfInterest" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="654.23,1135.45,649.6776,1126.7164,650.3173,1132.337,644.6967,1132.9767,654.23,1135.45" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="562.86" y="1061.897">uses</text><!--MD5=[5ea9f54815daf7c3c03b9ad3b51f896a]
@startuml
skinparam ClassAttributeFontColor #777
skinparam ClassAttributeFontColor<<Abstract>> #999
skinparam ClassAttributeFontColor<<Interface>> #555
skinparam ClassAttributeFontColor<<Model>> #444
skinparam ClassMethodFontColor #333
skinparam ClassMethodFontColor<<Abstract>> #555
skinparam ClassMethodFontColor<<Interface>> #222

class MapScreen <<View / Composable>> {
    +viewModel: MapViewModel
    - -
    +MapScreen(viewModel: MapViewModel)
}

class MapViewModel <<ViewModel>> {
    -addPointOfInterestUseCase: AddPointOfInterestUseCase
    -pointOfInterestRepository: PointOfInterestRepository
    -authRepository: AuthRepository
    +uiState: StateFlow<MapUiState>
    +pointsOfInterest: StateFlow<List<PointOfInterest>>
    - -
    +MapViewModel(...)
    +addPointOfInterest(groupId: String, name: String, description: String, latitude: Double, longitude: Double)
    +loadPointsOfInterest(groupId: String)
}

class AddPointOfInterestUseCase <<Use Case / Domain>> {
    -pointOfInterestRepository: PointOfInterestRepository
    - -
    +AddPointOfInterestUseCase(pointOfInterestRepository: PointOfInterestRepository)
    +invoke(groupId: String, poi: PointOfInterest): Flow<Result<Unit>>
}

interface PointOfInterestRepository <<Interface / Domain>> {
    +addPointOfInterest(groupId: String, poi: PointOfInterest): Flow<Result<Unit>>
    +getPointsOfInterestForGroup(groupId: String): Flow<List<PointOfInterest>>
}

class PointOfInterestRepositoryImpl <<Data / Impl>> {
    -firestoreHelper: FirestoreHelper
    - -
    +PointOfInterestRepositoryImpl(firestoreHelper: FirestoreHelper)
    +addPointOfInterest(groupId: String, poi: PointOfInterest): Flow<Result<Unit>>
    +getPointsOfInterestForGroup(groupId: String): Flow<List<PointOfInterest>>
}

class PointOfInterest <<Model>> {
    +id: String
    +groupId: String
    +name: String
    +description: String
    +latitude: Double
    +longitude: Double
    +addedBy: String
    +timestamp: Date
}

class MapUiState <<UI State>> {
    +isLoadingPois: Boolean
    +addPoiError: String?
    +isAddingPoi: Boolean
    +showAddPoiDialog: Boolean
    +currentLocation: LatLng?
    +userRole: String?
}

class Result <<Sealed Class>> {
    +Success<T>(data: T)
    +Error(exception: Throwable)
    +Loading
}

class FirestoreHelper <<Helper>> {
    -firestore: FirebaseFirestore
    - -
    +addDocument(collectionPath: String, data: Any, documentId: String?): suspend String
    +getCollection(collectionPath: String, T: Class): Flow<List<T>>
    - -
    // ...
}

interface AuthRepository <<Interface / Domain>> {
    +getCurrentUser(): Flow<Result<User?>>
    - -
    // ...
}

class User <<Model>> {
    +id: String
    +email: String
    +username: String
    +role: String
}

MapScreen .up.|> MapViewModel : observe() / calls()
MapViewModel o- - AddPointOfInterestUseCase : composes (via DI)
MapViewModel o- - PointOfInterestRepository : composes (via DI)
MapViewModel o- - AuthRepository : composes (via DI)

AddPointOfInterestUseCase o- - PointOfInterestRepository : composes (via DI)
PointOfInterestRepositoryImpl .up.|> PointOfInterestRepository : implements
PointOfInterestRepositoryImpl o- - FirestoreHelper : composes (via DI)

MapViewModel ..> PointOfInterest : uses
MapViewModel ..> MapUiState : manages
MapViewModel ..> User : uses

AddPointOfInterestUseCase ..> PointOfInterest : uses
PointOfInterestRepository ..> PointOfInterest : uses
PointOfInterestRepositoryImpl ..> PointOfInterest : uses

AuthRepository ..> User : returns
FirestoreHelper ..> PointOfInterest : uses

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.10+7-Debian-1deb13u1
Operating System: Linux
Default Encoding: UTF-8
Language: fr
Country: FR
--></g></svg>