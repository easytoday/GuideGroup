<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1135px" preserveAspectRatio="none" style="width:1468px;height:1135px;" version="1.1" viewBox="0 0 1468 1135" width="1468px" zoomAndPan="magnify"><defs><filter height="300%" id="f6mweadx587r9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[1656b0fe70481e75f9e8f6a210859f81]
class LoginScreen--><rect fill="#FEFECE" filter="url(#f6mweadx587r9)" height="88.652" id="LoginScreen" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="499.82" y="213.5"/><ellipse cx="564.57" cy="234.8441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M567.5387,240.4847 Q566.9606,240.7816 566.32,240.9222 Q565.6794,241.0785 564.9762,241.0785 Q562.4762,241.0785 561.1481,239.4379 Q559.8356,237.7816 559.8356,234.6566 Q559.8356,231.5316 561.1481,229.8754 Q562.4762,228.2191 564.9762,228.2191 Q565.6794,228.2191 566.32,228.3754 Q566.9762,228.5316 567.5387,228.8285 L567.5387,231.5472 Q566.9137,230.9691 566.32,230.7035 Q565.7262,230.4222 565.1012,230.4222 Q563.7575,230.4222 563.07,231.5004 Q562.3825,232.5629 562.3825,234.6566 Q562.3825,236.7504 563.07,237.8285 Q563.7575,238.891 565.1012,238.891 Q565.7262,238.891 566.32,238.6254 Q566.9137,238.3441 567.5387,237.766 L567.5387,240.4847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="114" x="583.07" y="231.3281">«View / Composable»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="605.57" y="247.6722">LoginScreen</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="500.82" x2="746.82" y1="256.1882" y2="256.1882"/><ellipse cx="510.82" cy="267.1882" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="151" x="519.82" y="271.9471">viewModel: LoginViewModel</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="500.82" x2="746.82" y1="279.1701" y2="279.1701"/><ellipse cx="510.82" cy="290.1701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="519.82" y="294.929">LoginScreen(viewModel: LoginViewModel)</text><!--MD5=[c51b56220c1c780ed5527862316ce9fd]
class LoginViewModel--><rect fill="#FEFECE" filter="url(#f6mweadx587r9)" height="118.6158" id="LoginViewModel" style="stroke: #A80036; stroke-width: 1.5;" width="279" x="970.32" y="8"/><ellipse cx="1060.07" cy="29.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1063.0388,34.9847 Q1062.4606,35.2816 1061.82,35.4222 Q1061.1794,35.5785 1060.4763,35.5785 Q1057.9763,35.5785 1056.6481,33.9379 Q1055.3356,32.2816 1055.3356,29.1566 Q1055.3356,26.0316 1056.6481,24.3754 Q1057.9763,22.7191 1060.4763,22.7191 Q1061.1794,22.7191 1061.82,22.8754 Q1062.4763,23.0316 1063.0388,23.3285 L1063.0388,26.0472 Q1062.4138,25.4691 1061.82,25.2035 Q1061.2263,24.9222 1060.6013,24.9222 Q1059.2575,24.9222 1058.57,26.0004 Q1057.8825,27.0629 1057.8825,29.1566 Q1057.8825,31.2504 1058.57,32.3285 Q1059.2575,33.391 1060.6013,33.391 Q1061.2263,33.391 1061.82,33.1254 Q1062.4138,32.8441 1063.0388,32.266 L1063.0388,34.9847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="70" x="1091.07" y="25.8281">«ViewModel»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="1080.57" y="42.1722">LoginViewModel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="971.32" x2="1248.32" y1="50.6882" y2="50.6882"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="978.32" y="58.6882"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="990.32" y="66.4471">signInUseCase: SignInUseCase</text><ellipse cx="981.32" cy="76.6701" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="990.32" y="81.429">uiState: StateFlow&lt;AuthUiState&gt;</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="971.32" x2="1248.32" y1="88.652" y2="88.652"/><ellipse cx="981.32" cy="99.652" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="253" x="990.32" y="104.4109">LoginViewModel(signInUseCase: SignInUseCase)</text><ellipse cx="981.32" cy="114.6339" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="990.32" y="119.3928">signIn(email: String, password: String)</text><!--MD5=[0471496cea1c55de1b84a82d2d12aac8]
class SignInUseCase--><rect fill="#FEFECE" filter="url(#f6mweadx587r9)" height="103.6339" id="SignInUseCase" style="stroke: #A80036; stroke-width: 1.5;" width="339" x="783.32" y="206"/><ellipse cx="894.57" cy="227.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M897.5388,232.9847 Q896.9606,233.2816 896.32,233.4222 Q895.6794,233.5785 894.9763,233.5785 Q892.4763,233.5785 891.1481,231.9379 Q889.8356,230.2816 889.8356,227.1566 Q889.8356,224.0316 891.1481,222.3754 Q892.4763,220.7191 894.9763,220.7191 Q895.6794,220.7191 896.32,220.8754 Q896.9763,221.0316 897.5388,221.3285 L897.5388,224.0472 Q896.9138,223.4691 896.32,223.2035 Q895.7263,222.9222 895.1013,222.9222 Q893.7575,222.9222 893.07,224.0004 Q892.3825,225.0629 892.3825,227.1566 Q892.3825,229.2504 893.07,230.3285 Q893.7575,231.391 895.1013,231.391 Q895.7263,231.391 896.32,231.1254 Q896.9138,230.8441 897.5388,230.266 L897.5388,232.9847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="112" x="913.07" y="223.8281">«Use Case / Domain»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="926.57" y="240.1722">SignInUseCase</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="784.32" x2="1121.32" y1="248.6882" y2="248.6882"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="791.32" y="256.6882"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="803.32" y="264.4471">authRepository: AuthRepository</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="784.32" x2="1121.32" y1="271.6701" y2="271.6701"/><ellipse cx="794.32" cy="282.6701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="252" x="803.32" y="287.429">SignInUseCase(authRepository: AuthRepository)</text><ellipse cx="794.32" cy="297.652" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="313" x="803.32" y="302.4109">invoke(email: String, password: String): Flow&lt;Result&lt;User&gt;&gt;</text><!--MD5=[efae4119fb8b392e85a05fb226890ad7]
class AuthRepository--><rect fill="#FEFECE" filter="url(#f6mweadx587r9)" height="103.6339" id="AuthRepository" style="stroke: #A80036; stroke-width: 1.5;" width="337" x="686.32" y="389"/><ellipse cx="796.07" cy="410.3441" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M791.9919,406.1097 L791.9919,403.9535 L799.3825,403.9535 L799.3825,406.1097 L796.9138,406.1097 L796.9138,414.1879 L799.3825,414.1879 L799.3825,416.3441 L791.9919,416.3441 L791.9919,414.1879 L794.4606,414.1879 L794.4606,406.1097 L791.9919,406.1097 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="113" x="814.57" y="406.8281">«Interface / Domain»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="82" x="830.07" y="423.1722">AuthRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="687.32" x2="1022.32" y1="431.6882" y2="431.6882"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="687.32" x2="1022.32" y1="439.6882" y2="439.6882"/><ellipse cx="697.32" cy="450.6882" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="311" x="706.32" y="455.4471">signIn(email: String, password: String): Flow&lt;Result&lt;User&gt;&gt;</text><ellipse cx="697.32" cy="465.6701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="204" x="706.32" y="470.429">getCurrentUser(): Flow&lt;Result&lt;User?&gt;&gt;</text><ellipse cx="697.32" cy="480.652" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="157" x="706.32" y="485.4109">signOut(): Flow&lt;Result&lt;Unit&gt;&gt;</text><!--MD5=[d6b0eb474695fe8bef8ded160a8ce0d5]
class AuthRepositoryImpl--><rect fill="#FEFECE" filter="url(#f6mweadx587r9)" height="148.5796" id="AuthRepositoryImpl" style="stroke: #A80036; stroke-width: 1.5;" width="454" x="175.82" y="572"/><ellipse cx="343.57" cy="593.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M346.5388,598.9847 Q345.9606,599.2816 345.32,599.4222 Q344.6794,599.5785 343.9763,599.5785 Q341.4763,599.5785 340.1481,597.9379 Q338.8356,596.2816 338.8356,593.1566 Q338.8356,590.0316 340.1481,588.3754 Q341.4763,586.7191 343.9763,586.7191 Q344.6794,586.7191 345.32,586.8754 Q345.9763,587.0316 346.5388,587.3285 L346.5388,590.0472 Q345.9138,589.4691 345.32,589.2035 Q344.7263,588.9222 344.1013,588.9222 Q342.7575,588.9222 342.07,590.0004 Q341.3825,591.0629 341.3825,593.1566 Q341.3825,595.2504 342.07,596.3285 Q342.7575,597.391 344.1013,597.391 Q344.7263,597.391 345.32,597.1254 Q345.9138,596.8441 346.5388,596.266 L346.5388,598.9847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="73" x="382.57" y="589.8281">«Data / Impl»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="110" x="364.07" y="606.1722">AuthRepositoryImpl</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="176.82" x2="628.82" y1="614.6882" y2="614.6882"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="183.82" y="622.6882"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="195.82" y="630.4471">firebaseAuth: FirebaseAuth</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="183.82" y="637.6701"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="195.82" y="645.429">firestoreHelper: FirestoreHelper</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="176.82" x2="628.82" y1="652.652" y2="652.652"/><ellipse cx="186.82" cy="663.652" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="428" x="195.82" y="668.4109">AuthRepositoryImpl(firebaseAuth: FirebaseAuth, firestoreHelper: FirestoreHelper)</text><ellipse cx="186.82" cy="678.6339" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="311" x="195.82" y="683.3928">signIn(email: String, password: String): Flow&lt;Result&lt;User&gt;&gt;</text><ellipse cx="186.82" cy="693.6158" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="204" x="195.82" y="698.3747">getCurrentUser(): Flow&lt;Result&lt;User?&gt;&gt;</text><ellipse cx="186.82" cy="708.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="157" x="195.82" y="713.3566">signOut(): Flow&lt;Result&lt;Unit&gt;&gt;</text><!--MD5=[3fd616f346a44cd59a91eb10b19e157c]
class User--><rect fill="#FEFECE" filter="url(#f6mweadx587r9)" height="118.6158" id="User" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="930.82" y="1006"/><ellipse cx="965.17" cy="1027.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M968.1388,1032.9847 Q967.5606,1033.2816 966.92,1033.4222 Q966.2794,1033.5785 965.5763,1033.5785 Q963.0763,1033.5785 961.7481,1031.9379 Q960.4356,1030.2816 960.4356,1027.1566 Q960.4356,1024.0316 961.7481,1022.3754 Q963.0763,1020.7191 965.5763,1020.7191 Q966.2794,1020.7191 966.92,1020.8754 Q967.5763,1021.0316 968.1388,1021.3285 L968.1388,1024.0472 Q967.5138,1023.4691 966.92,1023.2035 Q966.3263,1022.9222 965.7013,1022.9222 Q964.3575,1022.9222 963.67,1024.0004 Q962.9825,1025.0629 962.9825,1027.1566 Q962.9825,1029.2504 963.67,1030.3285 Q964.3575,1031.391 965.7013,1031.391 Q966.3263,1031.391 966.92,1031.1254 Q967.5138,1030.8441 968.1388,1030.266 L968.1388,1032.9847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="981.47" y="1023.8281">«Model»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="27" x="990.47" y="1040.1722">User</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="931.82" x2="1045.82" y1="1048.6882" y2="1048.6882"/><ellipse cx="941.82" cy="1059.6882" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="950.82" y="1064.4471">id: String</text><ellipse cx="941.82" cy="1074.6701" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="950.82" y="1079.429">email: String</text><ellipse cx="941.82" cy="1089.652" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="950.82" y="1094.4109">username: String</text><ellipse cx="941.82" cy="1104.6339" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#444444" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="950.82" y="1109.3928">role: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="931.82" x2="1045.82" y1="1116.6158" y2="1116.6158"/><!--MD5=[04a346f0bc92fb42fdf831fe61395686]
class AuthUiState--><rect fill="#FEFECE" filter="url(#f6mweadx587r9)" height="103.6339" id="AuthUiState" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="1228.82" y="206"/><ellipse cx="1269.47" cy="227.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1272.4388,232.9847 Q1271.8606,233.2816 1271.22,233.4222 Q1270.5794,233.5785 1269.8763,233.5785 Q1267.3763,233.5785 1266.0481,231.9379 Q1264.7356,230.2816 1264.7356,227.1566 Q1264.7356,224.0316 1266.0481,222.3754 Q1267.3763,220.7191 1269.8763,220.7191 Q1270.5794,220.7191 1271.22,220.8754 Q1271.8763,221.0316 1272.4388,221.3285 L1272.4388,224.0472 Q1271.8138,223.4691 1271.22,223.2035 Q1270.6263,222.9222 1270.0013,222.9222 Q1268.6575,222.9222 1267.97,224.0004 Q1267.2825,225.0629 1267.2825,227.1566 Q1267.2825,229.2504 1267.97,230.3285 Q1268.6575,231.391 1270.0013,231.391 Q1270.6263,231.391 1271.22,231.1254 Q1271.8138,230.8441 1272.4388,230.266 L1272.4388,232.9847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="54" x="1295.67" y="223.8281">«UI State»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="1289.17" y="240.1722">AuthUiState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1229.82" x2="1383.82" y1="248.6882" y2="248.6882"/><ellipse cx="1239.82" cy="259.6882" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="1248.82" y="264.4471">isLoading: Boolean</text><ellipse cx="1239.82" cy="274.6701" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="1248.82" y="279.429">errorMessage: String?</text><ellipse cx="1239.82" cy="289.652" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="1248.82" y="294.4109">isSignInSuccess: Boolean</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1229.82" x2="1383.82" y1="301.6339" y2="301.6339"/><!--MD5=[2741598bdf59a7d7e0d5c97658fd3022]
class Result--><rect fill="#FEFECE" filter="url(#f6mweadx587r9)" height="103.6339" id="Result" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="1284.32" y="15.5"/><ellipse cx="1330.07" cy="36.8441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1333.0388,42.4847 Q1332.4606,42.7816 1331.82,42.9222 Q1331.1794,43.0785 1330.4763,43.0785 Q1327.9763,43.0785 1326.6481,41.4379 Q1325.3356,39.7816 1325.3356,36.6566 Q1325.3356,33.5316 1326.6481,31.8754 Q1327.9763,30.2191 1330.4763,30.2191 Q1331.1794,30.2191 1331.82,30.3754 Q1332.4763,30.5316 1333.0388,30.8285 L1333.0388,33.5472 Q1332.4138,32.9691 1331.82,32.7035 Q1331.2263,32.4222 1330.6013,32.4222 Q1329.2575,32.4222 1328.57,33.5004 Q1327.8825,34.5629 1327.8825,36.6566 Q1327.8825,38.7504 1328.57,39.8285 Q1329.2575,40.891 1330.6013,40.891 Q1331.2263,40.891 1331.82,40.6254 Q1332.4138,40.3441 1333.0388,39.766 L1333.0388,42.4847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="77" x="1348.57" y="33.3281">«Sealed Class»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="34" x="1370.07" y="49.6722">Result</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1285.32" x2="1456.32" y1="58.1882" y2="58.1882"/><ellipse cx="1295.32" cy="69.1882" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="1304.32" y="73.9471">Loading</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1285.32" x2="1456.32" y1="81.1701" y2="81.1701"/><ellipse cx="1295.32" cy="92.1701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="1304.32" y="96.929">Success&lt;T&gt;(data: T)</text><ellipse cx="1295.32" cy="107.152" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="1304.32" y="111.9109">Error(exception: Throwable)</text><!--MD5=[23901e59d1ccf0ed8cbcf5d6e2a43506]
class FirebaseAuth--><rect fill="#FEFECE" filter="url(#f6mweadx587r9)" height="103.6339" id="FirebaseAuth" style="stroke: #A80036; stroke-width: 1.5;" width="350" x="78.82" y="811.5"/><ellipse cx="203.57" cy="832.8441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M206.5388,838.4847 Q205.9606,838.7816 205.32,838.9222 Q204.6794,839.0785 203.9763,839.0785 Q201.4763,839.0785 200.1481,837.4379 Q198.8356,835.7816 198.8356,832.6566 Q198.8356,829.5316 200.1481,827.8754 Q201.4763,826.2191 203.9763,826.2191 Q204.6794,826.2191 205.32,826.3754 Q205.9763,826.5316 206.5388,826.8285 L206.5388,829.5472 Q205.9138,828.9691 205.32,828.7035 Q204.7263,828.4222 204.1013,828.4222 Q202.7575,828.4222 202.07,829.5004 Q201.3825,830.5629 201.3825,832.6566 Q201.3825,834.7504 202.07,835.8285 Q202.7575,836.891 204.1013,836.891 Q204.7263,836.891 205.32,836.6254 Q205.9138,836.3441 206.5388,835.766 L206.5388,838.4847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="96" x="222.07" y="829.3281">«External Service»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="233.07" y="845.6722">FirebaseAuth</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="79.82" x2="427.82" y1="854.1882" y2="854.1882"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.82" x2="427.82" y1="862.1882" y2="862.1882"/><ellipse cx="89.82" cy="873.1882" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="324" x="98.82" y="877.9471">signInWithEmailAndPassword(email: String, password: String)</text><ellipse cx="89.82" cy="888.1701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="98.82" y="892.929">getCurrentUser()</text><ellipse cx="89.82" cy="903.152" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="98.82" y="907.9109">signOut()</text><!--MD5=[91a178b110eede54421af66b66a58092]
class FirestoreHelper--><rect fill="#FEFECE" filter="url(#f6mweadx587r9)" height="126.6158" id="FirestoreHelper" style="stroke: #A80036; stroke-width: 1.5;" width="471" x="464.32" y="800"/><ellipse cx="651.57" cy="821.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M654.5387,826.9847 Q653.9606,827.2816 653.32,827.4222 Q652.6794,827.5785 651.9762,827.5785 Q649.4762,827.5785 648.1481,825.9379 Q646.8356,824.2816 646.8356,821.1566 Q646.8356,818.0316 648.1481,816.3754 Q649.4762,814.7191 651.9762,814.7191 Q652.6794,814.7191 653.32,814.8754 Q653.9762,815.0316 654.5387,815.3285 L654.5387,818.0472 Q653.9137,817.4691 653.32,817.2035 Q652.7262,816.9222 652.1012,816.9222 Q650.7575,816.9222 650.07,818.0004 Q649.3825,819.0629 649.3825,821.1566 Q649.3825,823.2504 650.07,824.3285 Q650.7575,825.391 652.1012,825.391 Q652.7262,825.391 653.32,825.1254 Q653.9137,824.8441 654.5387,824.266 L654.5387,826.9847 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="47" x="692.57" y="817.8281">«Helper»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="672.07" y="834.1722">FirestoreHelper</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="465.32" x2="934.32" y1="842.6882" y2="842.6882"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="472.32" y="850.6882"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="484.32" y="858.4471">firestore: FirebaseFirestore</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="465.32" x2="934.32" y1="865.6701" y2="865.6701"/><ellipse cx="475.32" cy="876.6701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="395" x="484.32" y="881.429">getDocument(collectionPath: String, documentId: String, T: Class): Flow&lt;T?&gt;</text><ellipse cx="475.32" cy="891.652" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="445" x="484.32" y="896.4109">addDocument(collectionPath: String, data: Any, documentId: String?): suspend String</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="465.32" x2="934.32" y1="903.6339" y2="903.6339"/><text fill="#777777" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="470.32" y="919.3928">// ...</text><!--MD5=[2d8984f58e306263a86dde83dc04ae26]
reverse link LoginViewModel to LoginScreen--><path d="M951.19,130.03 C880.9,157.29 799.86,188.72 736,213.49 " fill="none" id="LoginViewModel&lt;-LoginScreen" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="949.05,123.35,970.22,122.64,954.11,136.4,949.05,123.35" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="881.82" y="171.897">observe() / calls()</text><!--MD5=[21296c167966a2c4e96f5214312c64d8]
reverse link LoginViewModel to SignInUseCase--><path d="M1052.49,137.33 C1033.65,159.95 1013.05,184.68 995.5,205.76 " fill="none" id="LoginViewModel&lt;-SignInUseCase" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1061,127.11,1054.0869,129.1615,1053.3217,136.3319,1060.2348,134.2804,1061,127.11" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="1036.82" y="171.897">composes (via DI)</text><!--MD5=[fc257dcf45873b49bd5ae4adc8d25763]
reverse link SignInUseCase to AuthRepository--><path d="M918.76,321.91 C906.92,343.77 893.8,368 882.54,388.8 " fill="none" id="SignInUseCase&lt;-AuthRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="925,310.38,918.6262,313.7527,919.288,320.9333,925.6618,317.5607,925,310.38" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="906.82" y="354.897">composes (via DI)</text><!--MD5=[89bdd1c34838b003d08c874e02f9fa3e]
reverse link AuthRepository to AuthRepositoryImpl--><path d="M722.95,501.37 C673.96,523.43 617.79,548.71 566.32,571.89 " fill="none" id="AuthRepository&lt;-AuthRepositoryImpl" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="720.23,494.92,741.34,493.09,725.98,507.68,720.23,494.92" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="669.82" y="537.897">implements</text><!--MD5=[1e7349654786cc7e8ec4be1731bb441e]
reverse link AuthRepositoryImpl to FirebaseAuth--><path d="M344.18,732.11 C325.64,758.86 305.73,787.59 289.33,811.26 " fill="none" id="AuthRepositoryImpl&lt;-FirebaseAuth" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="351.75,721.19,345.0415,723.8351,344.903,731.0449,351.6115,728.3998,351.75,721.19" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="329.82" y="765.897">composes (via DI)</text><!--MD5=[53ea6f8326400f129a58825731de71ff]
reverse link AuthRepositoryImpl to FirestoreHelper--><path d="M515.47,729.05 C547.78,752.44 582.5,777.57 613,799.65 " fill="none" id="AuthRepositoryImpl&lt;-FirestoreHelper" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="504.61,721.19,507.1278,727.9473,514.3336,728.2221,511.8159,721.4649,504.61,721.19" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="569.82" y="765.897">composes (via DI)</text><!--MD5=[83c662aae14fc6bf918e0bafd00c4fea]
link LoginViewModel to AuthUiState--><path d="M1171.07,127.11 C1196.05,151.01 1224.78,178.5 1249.36,202.02 " fill="none" id="LoginViewModel-&gt;AuthUiState" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1253.27,205.76,1249.5311,196.6484,1249.6568,202.3039,1244.0013,202.4296,1253.27,205.76" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="1220.82" y="171.897">manages</text><!--MD5=[a33f3d1f7e80a272fb15ac647c25fe28]
link LoginViewModel to User--><path d="M1141.85,127.36 C1158.67,163.65 1175.82,211.75 1175.82,257 C1175.82,257 1175.82,257 1175.82,864.5 C1175.82,938.94 1105.85,997.15 1051.51,1031.12 " fill="none" id="LoginViewModel-&gt;User" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1046.96,1033.93,1056.7173,1032.5905,1051.2104,1031.2967,1052.5041,1025.7898,1046.96,1033.93" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="1176.82" y="537.897">uses</text><!--MD5=[e54d83ac5d313b9587395fe0a2d5a462]
link SignInUseCase to User--><path d="M1012.28,310.25 C1044.1,343.52 1076.82,389.91 1076.82,440 C1076.82,440 1076.82,440 1076.82,864.5 C1076.82,913.16 1054.72,963.28 1032.67,1001.17 " fill="none" id="SignInUseCase-&gt;User" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1029.98,1005.73,1038.0042,1000.0193,1032.5251,1001.4262,1031.1181,995.9471,1029.98,1005.73" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="1077.82" y="651.897">returns</text><!--MD5=[b30dafab54f3b986d57c9c3c148d9f2d]
link AuthRepository to User--><path d="M871.09,493.06 C892.54,562.06 930.21,689.19 952.82,800 C966.68,867.96 976.64,946.87 982.52,1000.69 " fill="none" id="AuthRepository-&gt;User" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="983.08,1005.82,986.0794,996.439,982.5372,1000.8495,978.1267,997.3074,983.08,1005.82" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="946.82" y="765.897">returns</text><!--MD5=[0e459b8d47a92187f0061d350b58052b]
link AuthRepositoryImpl to User--><path d="M175.34,693.33 C119.2,715.94 65.55,749.67 31.82,800 C0.4,846.89 -5.15,884.34 31.82,927 C90.72,994.97 721.81,1045.51 925.69,1060.16 " fill="none" id="AuthRepositoryImpl-&gt;User" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="930.72,1060.52,922.0288,1055.8872,925.7328,1060.1627,921.4572,1063.8667,930.72,1060.52" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="32.82" y="868.897">uses</text><!--MD5=[39ef1c579cc7ae927a1cce10dbb5433e]
link FirestoreHelper to User--><path d="M790.47,927.23 C834.71,957.85 886.81,993.91 926.51,1021.38 " fill="none" id="FirestoreHelper-&gt;User" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="930.8,1024.35,925.6695,1015.943,926.6865,1021.5077,921.1218,1022.5246,930.8,1024.35" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="853.82" y="971.897">uses</text><!--MD5=[cc34cd1c21a8b45d628266078b49d8a9]
@startuml
skinparam ClassAttributeFontColor #777
skinparam ClassAttributeFontColor<<Abstract>> #999
skinparam ClassAttributeFontColor<<Interface>> #555
skinparam ClassAttributeFontColor<<Model>> #444
skinparam ClassMethodFontColor #333
skinparam ClassMethodFontColor<<Abstract>> #555
skinparam ClassMethodFontColor<<Interface>> #222

class LoginScreen <<View / Composable>> {
    +viewModel: LoginViewModel
    - -
    +LoginScreen(viewModel: LoginViewModel)
}

class LoginViewModel <<ViewModel>> {
    -signInUseCase: SignInUseCase
    +uiState: StateFlow<AuthUiState>
    - -
    +LoginViewModel(signInUseCase: SignInUseCase)
    +signIn(email: String, password: String)
}

class SignInUseCase <<Use Case / Domain>> {
    -authRepository: AuthRepository
    - -
    +SignInUseCase(authRepository: AuthRepository)
    +invoke(email: String, password: String): Flow<Result<User>>
}

interface AuthRepository <<Interface / Domain>> {
    +signIn(email: String, password: String): Flow<Result<User>>
    +getCurrentUser(): Flow<Result<User?>>
    +signOut(): Flow<Result<Unit>>
}

class AuthRepositoryImpl <<Data / Impl>> {
    -firebaseAuth: FirebaseAuth
    -firestoreHelper: FirestoreHelper
    - -
    +AuthRepositoryImpl(firebaseAuth: FirebaseAuth, firestoreHelper: FirestoreHelper)
    +signIn(email: String, password: String): Flow<Result<User>>
    +getCurrentUser(): Flow<Result<User?>>
    +signOut(): Flow<Result<Unit>>
}

class User <<Model>> {
    +id: String
    +email: String
    +username: String
    +role: String
}

class AuthUiState <<UI State>> {
    +isLoading: Boolean
    +errorMessage: String?
    +isSignInSuccess: Boolean
}

class Result <<Sealed Class>> {
    +Success<T>(data: T)
    +Error(exception: Throwable)
    +Loading
}

class FirebaseAuth <<External Service>> {
    - -
    +signInWithEmailAndPassword(email: String, password: String)
    +getCurrentUser()
    +signOut()
}

class FirestoreHelper <<Helper>> {
    -firestore: FirebaseFirestore
    - -
    +getDocument(collectionPath: String, documentId: String, T: Class): Flow<T?>
    +addDocument(collectionPath: String, data: Any, documentId: String?): suspend String
    - -
    // ...
}

LoginScreen .up.|> LoginViewModel : observe() / calls()
LoginViewModel o- - SignInUseCase : composes (via DI)

SignInUseCase o- - AuthRepository : composes (via DI)
AuthRepositoryImpl .up.|> AuthRepository : implements
AuthRepositoryImpl o- - FirebaseAuth : composes (via DI)
AuthRepositoryImpl o- - FirestoreHelper : composes (via DI)

LoginViewModel ..> AuthUiState : manages
LoginViewModel ..> User : uses
SignInUseCase ..> User : returns
AuthRepository ..> User : returns
AuthRepositoryImpl ..> User : uses
FirestoreHelper ..> User : uses
@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.10+7-Debian-1deb13u1
Operating System: Linux
Default Encoding: UTF-8
Language: fr
Country: FR
--></g></svg>